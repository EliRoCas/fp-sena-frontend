<form [formGroup]="productForm" class="text-gray-600 body-font dark:bg-gray-900  w-full h-full">
    <div class="container px-5 py-3 mx-auto flex flex-wrap justify-center items-center">
        <div class="lg:w-4/6 md:w-3/6 bg-gray-100 rounded-lg p-3 flex flex-col md:ml-20 w-full mt-1 md:mt-0">
            <div class="flex flex-col justify-center">
                <h2 class="text-center text-gray-900 text-xl font-medium title-font mb-5 font-primary-forms">
                    <ea-portal-content name="header-title">
                        {{title()}}
                    </ea-portal-content>
                </h2>
                <div class="input-special flex flex-col mb-4">
                    <label for="product_name" class="text-sm font-semibold text-gray-700">Nombre</label>
                    <input type="text" id="product_name" name="product_name" placeholder="Nombre del Producto"
                        aria-label="product_name" formControlName="product_name">
                </div>
                <div class="input-special flex flex-row mb-4 select-id">
                    <label for="product_type" class="text-sm font-semibold text-gray-700 flex flex-col justify-center">
                        Categoría
                        <button (click)="openNewCategory()">
                            <i class="fa-solid fa-circle-plus text-red-600 mx-2"></i>
                        </button>
                    </label>
                    <select name="product_type" id="prodcut_type" class="input-special py-3 mx-2"
                        formControlName="fo_category">
                        <option value="">Seleccione una categoría</option>
                        @for(category of categories(); track category) {
                        <option [value]="category.id_category">{{category.category_name}}</option>
                        }
                    </select>


                    <label for="product_type" class="text-sm font-semibold text-gray-700 flex flex-col justify-center">
                        Subcategoría
                        <button (click)="openNewSubcategory()">
                            <i class="fa-solid fa-circle-plus text-red-600 mx-2"></i>
                        </button>
                    </label>
                    <select name="product_type" id="prodcut_type" class="input-special py-3 mx-2"
                        formControlName="fo_subcategory">
                        <option value="">Seleccione una subcategoría</option>
                        @for(subcategory of subcategories(); track subcategory) {
                        <option [value]="subcategory.id_subcategory">{{subcategory.subcategory_name}}
                        </option>
                        }
                    </select>
                </div>
                <div class="input-special flex flex-row mb-4 select-id ">
                    <span class="flex flex-col w-full mr-2">
                        <label for="product_type" class="text-sm font-semibold text-gray-700">
                            Cantidad
                        </label>
                        <input type="number" id="quantity" name="quantity" placeholder="Número de Existencias"
                            aria-label="quantity" formControlName="quantity">
                    </span>
                    <!-- Agregar la clase de la BD para las imágenes -->
                    <div class="lg:w-42 md:w-52 md:pr-0 lg:pr-0 pr-0 text-center mb-2">
                        <label for="product_img" class="text-sm font-semibold text-gray-700">
                            Subir imagen
                        </label>
                        <input type="file" id="product_image" (change)="onFileSelected($event)"
                            formControlName="product_img">
                    </div>
                </div>
                <div class="input-special flex flex-col mb-4">
                    <label for="product_description" class="text-sm font-semibold text-gray-700">Descripción</label>
                    <textarea id="product_description" name="product_description" class="input-form h-32 resize-none"
                        formControlName="product_description"></textarea>
                </div>
            </div>
            <button (click)="add()" [disabled]="!productForm.valid" class="primary-button">
                Guardar
            </button>
        </div>
    </div>
</form>